{% if site.teachings %}
  <div class="courses-wrapper">
    {% assign courses_by_year = site.teachings | sort: 'year' | reverse | group_by: 'year' %}

    {% for year_group in courses_by_year %}
      
      <div class="w-100 mt-4 mb-3">
        <h5 class="text-muted font-weight-bold" style="border-bottom: 2px solid var(--global-theme-color); display: inline-block; padding-bottom: 5px;">
          <i class="fa-regular fa-calendar mr-2"></i>{{ year_group.name }}
        </h5>
      </div>
      
      <div class="course-list d-block w-100">
        {% assign year_courses = year_group.items | sort: 'term' %}
        
        {% for course in year_courses %}
          <div class="card mb-3 hoverable shadow-sm w-100" style="border: none; background-color: #fff;">
            <div class="card-body p-4">
              
              <div class="d-flex justify-content-between align-items-start mb-2">
                <h5 class="card-title font-weight-bold mb-0">
                  <a href="{{ course.url | relative_url }}" class="course-link">{{ course.title }}</a>
                </h5>
                
                {% if course.term %}
                  <span class="badge ml-2" style="background-color: var(--global-theme-color); color: #fff; font-weight: normal; font-size: 0.85rem;">
                    {{ course.term }}
                  </span>
                {% endif %}
              </div>

              <div class="course-meta small text-muted mb-3">
                 {% if course.course_id %}
                   <span class="mr-3"><i class="fa-solid fa-tag mr-1"></i>{{ course.course_id }}</span>
                 {% endif %}
                 {% if course.instructor %}
                   <span><i class="fa-solid fa-user-tie mr-1"></i>{{ course.instructor }}</span>
                 {% endif %}
              </div>

              {% if course.description %}
                <p class="card-text text-muted mb-3" style="font-size: 0.95rem;">
                  {{ course.description }}
                </p>
              {% endif %}

              <div class="d-flex align-items-center">
                {% if course.repository %}
                  <a href="{{ course.repository }}" target="_blank" class="btn z-depth-0 mr-4 pl-0 font-weight-bold" style="color: var(--global-theme-color); padding-left: 0 !important; box-shadow: none; font-size: 0.95rem;">
                    <i class="fa-brands fa-github mr-1"></i>Code Repo
                  </a>
                {% endif %}

                <a href="{{ course.url | relative_url }}" class="text-decoration-none font-weight-bold" style="color: var(--global-theme-color); font-size: 0.95rem;">
                  View Syllabus <i class="fa-solid fa-arrow-right ml-1"></i>
                </a>
              </div>

            </div>
          </div>
        {% endfor %}
      </div>
    {% endfor %}
  </div>
{% else %}
  <div class="alert alert-light text-center" role="alert">
    No courses available yet.
  </div>
{% endif %}